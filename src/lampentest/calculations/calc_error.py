from calculations.calc_generally import screen_hcenter, screen_height, screen_width
from PyQt5 import QtGui

#calculate label1 geometry
label1_height = int(screen_height*0.2)
label1_width = int(screen_width*0.8)
label1_x = int(screen_hcenter - label1_width/2)
label1_y = int(screen_height*0.1)

#calculate label2 geometry
label2_height = int(screen_height*0.4)
label2_width = int(screen_width*0.8)
label2_x = int(screen_hcenter - label2_width/2)
label2_y = int(screen_height*0.3)

#calculate button geometry
retry_button_height = int(screen_height*0.1)
retry_button_width = int(screen_width*0.2)
retry_button_x = int(screen_hcenter - retry_button_width - screen_width*0.05)
retry_button_y = int(screen_height*0.8)

open_cover_button_height = int(screen_height*0.1)
open_cover_button_width = int(screen_width*0.2)
open_cover_button_x = int(screen_hcenter + screen_width*0.05)
open_cover_button_y = int(screen_height*0.8)

#calculate max font size for header labels
def set_max_font_size_label(label):
    label_width = label.width()
    label_height = label.height()

    font = label.font()
    font_metrics = QtGui.QFontMetrics(font)

    text = label.text()
    text_width = font_metrics.width(text)
    text_height = font_metrics.height()

    # Bestimme die maximale Schriftgröße, die in das Label passt
    max_font_size = min(label_width * 0.8 / text_width, label_height * 0.8 / text_height) * font.pointSize()

    return int(max_font_size)

#calculate max font size for confirm buttons
def set_max_font_size_button_confirm(button):
    button_width = button.width()
    button_height = button.height()

    font = button.font()
    font_metrics = QtGui.QFontMetrics(font)

    text = button.text()
    text_width = font_metrics.width(text)
    text_height = font_metrics.height()

    # Bestimme die maximale Schriftgröße, die in das Label passt
    max_font_size = min(button_width * 0.6 / text_width, button_height * 0.6 / text_height) * font.pointSize()

    return int(max_font_size)
